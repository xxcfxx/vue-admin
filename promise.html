<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //resolve,reject,all,ract
        //resolve ==then ,reject ==catch
        // let promise = new Promise((resolve, reject) => {
        //     resolve();
        // });
        // promise.then(response => {
        //     console.log('成功');
        //     console.log(responese);
        // }).catch(error => {
        //     console.log('失败');
        //     console.log(error);
        // });
        //链式
        function promise1(status) {
            return new Promise((resolve, reject) => {
                if (status) {
                    console.log('第1个promise成功');
                    resolve('第1个promise返回数据成功');
                } else {
                    console.log('第1个promise失败');
                    reject('第1个promise返回数据失败');
                }
            })
        }
        function promise2(status) {
            return new Promise((resolve, reject) => {
                if (status) {
                    console.log('第2个promise成功');
                    resolve('第2个promise返回数据成功');
                } else {
                    console.log('第2个promise失败');
                    reject('第2个promise返回数据失败');
                }
            })
        }
        function promise3(status) {
            return new Promise((resolve, reject) => {
                if (status) {
                    console.log('第3个promise成功');
                    resolve('第3个promise返回数据成功');
                } else {
                    console.log('第3个promise失败');
                    reject('第3个promise返回数据失败');
                }
            })
        }
        // promise1(true).then(response => {
        //     console.log(response);
        //     return promise2(true)
        // }).then(response => {
        //     console.log(response)
        //     return promise3(true)
        // }).then(response => {
        //     console.log(response)
        // }).catch(error => {
        //     console.log(error);
        // });

        //all方法，数组内promise必须全部调用成功(都调用resolve方法)，才会执行then，否则调用catch
        // Promise.all([promise1(true), promise2(false), promise3(true)]).then(response => {
        //     console.log('全部调用成功');
        // }).catch(error => {
        //     console.log('某些调用失败')
        // })
        //race方法，数组内的promise有一个调用成功就会调用then，全部调用失败，才会调用catch
        Promise.race([promise1(true), promise2(false), promise3(true)]).then(response => {
            console.log('某些调用成功');
        }).catch(error => {
            console.log('全部调用失败')
        })
    </script>
</body>

</html>